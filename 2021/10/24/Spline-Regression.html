<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Spline Regression | fastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Spline Regression" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using statsmodels library" />
<meta property="og:description" content="Using statsmodels library" />
<link rel="canonical" href="https://mdsohelmahmood.github.io/data-science/2021/10/24/Spline-Regression.html" />
<meta property="og:url" content="https://mdsohelmahmood.github.io/data-science/2021/10/24/Spline-Regression.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-24T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Spline Regression" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-10-24T00:00:00-05:00","datePublished":"2021-10-24T00:00:00-05:00","description":"Using statsmodels library","headline":"Spline Regression","mainEntityOfPage":{"@type":"WebPage","@id":"https://mdsohelmahmood.github.io/data-science/2021/10/24/Spline-Regression.html"},"url":"https://mdsohelmahmood.github.io/data-science/2021/10/24/Spline-Regression.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/data-science/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://mdsohelmahmood.github.io/data-science/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/data-science/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/data-science/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/data-science/about/">About Me</a><a class="page-link" href="/data-science/search/">Search</a><a class="page-link" href="/data-science/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Spline Regression</h1><p class="page-description">Using statsmodels library</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-10-24T00:00:00-05:00" itemprop="datePublished">
        Oct 24, 2021
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/mdsohelmahmood/data-science/tree/master/_notebooks/2021-10-24-Spline Regression.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/data-science/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/mdsohelmahmood/data-science/master?filepath=_notebooks%2F2021-10-24-Spline+Regression.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/data-science/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/mdsohelmahmood/data-science/blob/master/_notebooks/2021-10-24-Spline Regression.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/data-science/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Fmdsohelmahmood%2Fdata-science%2Fblob%2Fmaster%2F_notebooks%2F2021-10-24-Spline+Regression.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/data-science/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-10-24-Spline Regression.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">noise</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">noise</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.collections.PathCollection at 0x1dabf488070&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="n">df</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>-1.208575</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.010101</td>
      <td>0.234388</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.020202</td>
      <td>0.483987</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.030303</td>
      <td>0.506863</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.040404</td>
      <td>0.118118</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>0.959596</td>
      <td>-0.134463</td>
    </tr>
    <tr>
      <th>96</th>
      <td>0.969697</td>
      <td>-0.331540</td>
    </tr>
    <tr>
      <th>97</th>
      <td>0.979798</td>
      <td>-0.251748</td>
    </tr>
    <tr>
      <th>98</th>
      <td>0.989899</td>
      <td>-0.462755</td>
    </tr>
    <tr>
      <th>99</th>
      <td>1.000000</td>
      <td>0.483190</td>
    </tr>
  </tbody>
</table>
<p>100 rows Ã— 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">formula</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;y ~ bs(x, df=3, degree=1)&#39;</span><span class="p">)</span>
<span class="n">model_spline</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="n">formula</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">result_spline</span> <span class="o">=</span> <span class="n">model_spline</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_spline</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.299
Model:                            OLS   Adj. R-squared:                  0.277
Method:                 Least Squares   F-statistic:                     13.65
Date:                Sun, 24 Oct 2021   Prob (F-statistic):           1.73e-07
Time:                        23:30:14   Log-Likelihood:                -105.81
No. Observations:                 100   AIC:                             219.6
Df Residuals:                      96   BIC:                             230.0
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
============================================================================================
                               coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------------
Intercept                    0.8668      0.225      3.858      0.000       0.421       1.313
bs(x, df=3, degree=1)[0]    -1.3675      0.326     -4.201      0.000      -2.014      -0.721
bs(x, df=3, degree=1)[1]    -0.2688      0.267     -1.008      0.316      -0.798       0.261
bs(x, df=3, degree=1)[2]    -1.9703      0.323     -6.092      0.000      -2.612      -1.328
==============================================================================
Omnibus:                        1.646   Durbin-Watson:                   0.803
Prob(Omnibus):                  0.439   Jarque-Bera (JB):                1.183
Skew:                          -0.249   Prob(JB):                        0.553
Kurtosis:                       3.189   Cond. No.                         7.85
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">partialResidualPlot</span><span class="p">(</span><span class="n">result_spline</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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r72W2bNnM2LECPr16+fYc8frjhWx4sQiTFnvgxL/bMUJp9dg18JXSd+zwzfvj1i/fyNOwKo6zpUIEkwivonPPvtsZsyYwU8//cT111/PkSNHjjsmFi2HXbt20ahRIz7++GMmTpxIz549HXtu8N8AjR+1rpPK0r4N+XFws3xVDWS9D0QKUabZvQD8Nu85Tit5guOx5kes37/WBeGweH4Th+tCuOyyy3j99ddZvHgxt91223HlaW63HLZt28YVV1zBF198wbRp07jpppsced7s3F5m0/z9/VG4VDlKN+zO4U1rOXfXUo8jyxTr969rM+EKqqw3a7xVQUQy+HDTTTexceNGHn/8capVq/a3y38nBmhC+emnn2jUqBG//vor8+bN4+qrr476OUPJzww8E7mc74/ql7ckbf/XTBoxmPtvac+5557rSVzZKx9KJRehWJFC7D6Q5vr717alN0Dka/CqKjfddBOTJk1iypQptG/fHnCvhOvbb7+lcePG7Nu3j3nz5nHxxb7dCcvk06+//kqNGjWoUqUKy5Yto0iRIjE9fyzKD/NchiYi94V7QlV91onAjD9E2oUgIrz++uv8/PPPdOnShUqVKlG/fn1XWv6rV6+mSZMmFCpUiI8++ohatWrl+7mMf5UvX56RI0fSrl07Bg4cyIABA2J6fi/LD8N1QZRw9czGV/LShVCsWDFmzpxJ/fr1admyJStWrKBKlSqOXr4vXbqUZs2aUapUKRYuXEjVqlUdeV7jT23btqVTp048+eSTNGvWjLp1j2ssusbLyiXrgjBAZJdhOWcIdaxemEe6taJChQosXbqUlJQUR2J5//33ue666zj99NNZsGABlSpFNfPdxIk//viDmjVrUrJkSVatWkVycnTjB5HOaIvFLt/53pJIRIqJSC8ReVlExmR9ORKV8Y3cKgCC1fm+9PkB7hvyKhs2bKB9+/akpaVFHce0adNo0aIF1apV4+OPP7bkW4CULl2aMWPG8M033/Dwww9H9Vx5qUv3snIpkk053wG+BToCTwCdgG9U1bsljXJhLWDnhWsldC+/iX//+990796dV199Nd+z0saPH0+3bt246KKLmDt3LqVLl442bBOHevXqxSuvvMKHH37IlVdema/nyGur1u31W/K1FkTA2araTkRaqep4EZlE5hKRpgAJ10/WtW9XNmzYwKBBg6hWrRr3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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">partialResidualPlot</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">feature</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="n">copy_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">copy_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">feature</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">copy_df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">feature_prediction</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">copy_df</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span>
        <span class="s1">&#39;residual&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">outcome</span><span class="p">]</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">,</span>
        <span class="s1">&#39;ypartial&#39;</span><span class="p">:</span> <span class="n">feature_prediction</span> <span class="o">-</span> <span class="n">model</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="p">})</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;feature&#39;</span><span class="p">])</span>
    <span class="n">smoothed</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">nonparametric</span><span class="o">.</span><span class="n">lowess</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">ypartial</span><span class="p">,</span> <span class="n">results</span><span class="o">.</span><span class="n">feature</span><span class="p">,</span> <span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
    
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">feature</span><span class="p">,</span> <span class="n">results</span><span class="o">.</span><span class="n">ypartial</span> <span class="o">+</span> <span class="n">results</span><span class="o">.</span><span class="n">residual</span><span class="p">)</span>
<span class="c1">#     ax.plot(smoothed[:, 0], smoothed[:, 1], color=&#39;gray&#39;)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">feature</span><span class="p">,</span> <span class="n">results</span><span class="o">.</span><span class="n">ypartial</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Residual + </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s1"> contribution&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ax</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/data-science/2021/10/24/Spline-Regression.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/data-science/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/data-science/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/data-science/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" target="_blank" title="fastai"><svg class="svg-icon grey"><use xlink:href="/data-science/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" target="_blank" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/data-science/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
